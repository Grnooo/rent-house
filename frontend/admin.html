<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ê–¥–º–∏–Ω–∫–∞ ‚Äî –î–æ–º –ø–æ—Å—É—Ç–æ—á–Ω–æ</title>

  <link rel="stylesheet" href="./assets/styles.css" />
  <style>
    .admin-wrap { padding-top: 26px; }
    .admin-grid { display:grid; grid-template-columns: 1fr 1fr; gap:14px; align-items:start; }
    @media (max-width: 900px){ .admin-grid{ grid-template-columns:1fr; } }

    .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .table-wrap { overflow:auto; border-radius: var(--radius); border:1px solid var(--border); }
    table { width:100%; border-collapse:collapse; min-width: 900px; background: rgba(255,255,255,.03); }
    th, td { padding:12px; border-bottom:1px solid rgba(255,255,255,.08); text-align:left; vertical-align:top; }
    th { font-size:12px; color: var(--muted); font-weight:600; letter-spacing:.02em; }
    td { font-size:14px; color: var(--text); }
    .tag { display:inline-flex; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.04); color: var(--muted); font-size:12px; }
    .danger { border-color: rgba(239,68,68,.35); background: rgba(239,68,68,.10); color: rgba(255,255,255,.85); }
    .ok { border-color: rgba(34,197,94,.35); background: rgba(34,197,94,.10); color: rgba(255,255,255,.85); }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 12px; }
    .small { font-size: 12px; color: var(--muted); }
    .right { margin-left:auto; }
  </style>

  <!-- Flatpickr (CDN) –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
</head>
<body>
  <header class="header">
    <div class="container header__inner">
      <div class="logo">üîê –ê–¥–º–∏–Ω–∫–∞</div>
      <div class="right row">
        <a class="btn" href="./index.html">‚Üê –ù–∞ —Å–∞–π—Ç</a>
        <button class="btn" id="logoutBtn" type="button" style="display:none">–í—ã–π—Ç–∏</button>
      </div>
    </div>
  </header>

  <main class="admin-wrap">
    <div class="container">
      <div class="section__head">
        <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏</h2>
        <p>–í—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é. –ë—Ä–æ–Ω–∏ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∂–∏–≤—É—Ç –≤ –±–∞–∑–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.</p>
      </div>

      <!-- Login -->
      <section id="loginCard" class="card">
        <div class="row">
          <div style="flex:1; min-width: 240px;">
            <div class="field" style="margin:0">
              <label>–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞</label>
              <input id="adminPass" class="input" type="password" placeholder="ADMIN_PASSWORD –∏–∑ .env" />
              <div class="small">–ü–∞—Ä–æ–ª—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (localStorage) —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–≤–æ—ë–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.</div>
            </div>
          </div>
          <div>
            <button class="btn btn--primary" id="loginBtn" type="button">–í–æ–π—Ç–∏</button>
          </div>
        </div>
        <div id="loginMsg" class="hint" style="margin-top:10px"></div>
      </section>

      <!-- Admin UI -->
      <section id="adminUI" style="display:none;">
        <div class="admin-grid" style="margin-top:14px;">
          <div class="card">
            <div class="row">
              <h3 style="margin:0">–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–∞—Ç</h3>
              <span class="tag">–ì–æ—Å—Ç–∏ –Ω–µ —Å–º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Ç—å —ç—Ç–∏ –¥–∞—Ç—ã</span>
            </div>

            <div class="field" style="margin-top:12px;">
              <label>–î–∏–∞–ø–∞–∑–æ–Ω</label>
              <input id="blockRange" class="input" placeholder="YYYY-MM-DD ‚Äî YYYY-MM-DD" />
            </div>

            <div class="field">
              <label>–ü—Ä–∏—á–∏–Ω–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
              <input id="blockReason" class="input" placeholder="—Ä–µ–º–æ–Ω—Ç / –ª–∏—á–Ω–æ–µ / —É–±–æ—Ä–∫–∞..." />
            </div>

            <div class="row">
              <button class="btn btn--primary" id="blockBtn" type="button">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
              <span id="blockMsg" class="hint"></span>
            </div>
          </div>

          <div class="card">
            <div class="row">
              <h3 style="margin:0">–î–µ–π—Å—Ç–≤–∏—è</h3>
            </div>

            <div class="row" style="margin-top:12px;">
              <button class="btn" id="refreshBtn" type="button">–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>

              <div style="flex:1; min-width: 240px;">
                <input id="searchInput" class="input" placeholder="–ü–æ–∏—Å–∫: —Ç–µ–ª–µ—Ñ–æ–Ω / –∏–º—è / –¥–∞—Ç–∞ (YYYY-MM-DD)" />
              </div>

              <span class="tag ok" id="countTag">0 –±—Ä–æ–Ω–µ–π</span>
            </div>

            <div class="small" style="margin-top:10px;">
              –ü–æ–¥—Å–∫–∞–∑–∫–∞: —á—Ç–æ–±—ã —Å–Ω—è—Ç—å –±—Ä–æ–Ω—å ‚Äî –Ω–∞–∂–º–∏ ‚Äú–û—Ç–º–µ–Ω–∏—Ç—å‚Äù. –î–∞—Ç—ã —Å–Ω–æ–≤–∞ —Å—Ç–∞–Ω—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏.
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:14px;">
          <div class="row" style="margin-bottom:10px;">
            <h3 style="margin:0">–ë—Ä–æ–Ω–∏</h3>
            <span class="tag">–ê–≤—Ç–æ–±—Ä–æ–Ω—å: –±—Ä–æ–Ω—å —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ä–∞–∑—É</span>
          </div>

          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>–î–∞—Ç—ã</th>
                  <th>–ì–æ—Å—Ç–µ–π</th>
                  <th>–ö–æ–Ω—Ç–∞–∫—Ç—ã</th>
                  <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                  <th>–¶–µ–Ω–∞</th>
                  <th>ID</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="bookingsTbody">
                <tr><td colspan="7" class="small">–ü–æ–∫–∞ –ø—É—Å—Ç–æ‚Ä¶</td></tr>
              </tbody>
            </table>
          </div>

          <div id="adminMsg" class="hint" style="margin-top:10px;"></div>
        </div>
      </section>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="./assets/admin.js"></script>
</body>
</html>
